// @license      MIT License
!function(){"use strict";function a(){let b=document.querySelector("#iteminfo0_item_market_actions > a.item_market_action_button"),c=document.querySelector("#iteminfo1_item_market_actions > a.item_market_action_button"),d=document.querySelector("#iteminfo0_item_descriptors > div"),e=document.querySelector("#iteminfo1_item_descriptors > div"),f=document.querySelector("#iteminfo0_scrap_content"),g=document.querySelector("#iteminfo1_scrap_content");if(null!=b&&null==document.querySelector("#iteminfo0_item_market_actions > a.auto_sell_button")&&(b.outerHTML+="<a class=\"auto_sell_button item_market_action_button item_market_action_button_green\" href=\"#\"><span class=\"item_market_action_button_edge item_market_action_button_left\"></span><span class=\"item_market_action_button_contents\">AutoSell</span><span class=\"item_market_action_button_edge item_market_action_button_right\"></span><span class=\"item_market_action_button_preload\"></span></a>"),null!=c&&null==document.querySelector("#iteminfo1_item_market_actions > a.auto_sell_button")&&(c.outerHTML+="<a class=\"auto_sell_button item_market_action_button item_market_action_button_green\" href=\"#\"><span class=\"item_market_action_button_edge item_market_action_button_left\"></span><span class=\"item_market_action_button_contents\">AutoSell</span><span class=\"item_market_action_button_edge item_market_action_button_right\"></span><span class=\"item_market_action_button_preload\"></span></a>"),null!=d){let a=d.textContent;100<a.length&&(d.textContent=a.substring(0,100)+"... [shortened]")}if(null!=e){let a=e.textContent;100<a.length&&(e.textContent=a.substring(0,100)+"... [shortened]")}null!=f&&f.remove(),null!=g&&g.remove()}function b(a){return new Promise(b=>setTimeout(b,a))}toastr.options={positionClass:"toast-bottom-right"};let d=document.createEvent("HTMLEvents"),c=document.getElementsByTagName("head")[0];c.innerHTML="<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css\"><style>.item_market_actions .item_market_action_button_edge.item_market_action_button_right{margin-right:10px;}</style>"+c.innerHTML,d.initEvent("keyup",!1,!0),$(document).on("click",".auto_sell_button",async function(f){f.preventDefault();let e=f.path[4].querySelector(".item_desc_content > .item_desc_description > h1").textContent,g=f.path[2].querySelector(".item_market_actions > div > div:nth-child(2)").innerHTML;SellCurrentSelection();let h=g.search("<br>"),i=+g.substring(0,h).replace(/[^0-9.-]+/g,"");if(isNaN(i))return void toastr.error("No lots to compare!");let a=function(a){let b=a.toString();if(-1<b.indexOf("e-")){let[a,c]=b.split("e-");return parseInt(c,10)}return Math.floor(a)!==a&&a.toString().split(".")[1].length||0}(i),j=10**-a,k=i<4*j?3*j:(i-j).toFixed(a);for(document.getElementById("market_sell_buyercurrency_input").value=k,$("market_sell_buyercurrency_input").dispatchEvent(d),document.getElementById("market_sell_dialog_accept_ssa").checked=!0,$("market_sell_dialog_accept").click(),$("market_sell_dialog_ok").click();null==document.querySelector(".newmodal .newmodal_buttons .btn_grey_steamui");)await b(100);document.querySelector(".newmodal .newmodal_buttons .btn_grey_steamui").click(),toastr.success(k+" "+e)}),$(document).on("click",".inventory_page div.item",a),$(document).on("click",".games_list_tabs a.games_list_tab",a)}();